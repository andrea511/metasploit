class CleanUpAutoExploitMatch < ActiveRecord::Migration[4.2]
  def up
    remove_column :automatic_exploitation_matches, :state
    remove_column :automatic_exploitation_matches, :nexpose_data_vulnerability_definition_id
    add_column :automatic_exploitation_matches, :nexpose_data_exploit_id, :integer
    add_index :automatic_exploitation_matches, :nexpose_data_exploit_id
  end

  def down
    add_column :automatic_exploitation_matches, :state, :string
    add_column :automatic_exploitation_matches, :nexpose_data_vulnerability_definition_id, :integer
    remove_index :automatic_exploitation_matches, :nexpose_data_exploit_id
    remove_column :automatic_exploitation_matches, :nexpose_data_exploit_id
  end
end
