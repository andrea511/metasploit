define [
  'jquery',
  '<%= javascript_path("apps/backbone/views/app_tabbed_modal") %>'
], ($, AppTabbedModalView) ->
  CRED_INTRUSION_URL = "/workspaces/#{WORKSPACE_ID}/apps/credential_intrusion/task_config/"

  class CredentialIntrusion extends AppTabbedModalView
    initialize: ->
      super
      @setTitle 'Known Credentials Intrusion'
      @setDescription 'Uses known credentials to compromise hosts across '+
       'the entire network. You can run this MetaModule to reuse credentials '+
       'that you obtained from bruteforce attacks, phishing attacks, or exploited hosts.'
      @setTabs [
        {name: 'Scope'},
        {name: 'Payload'},
        {name: 'Generate Report', checkbox: true}
      ]

    formLoadedSuccessfully: (html) =>
      super
      $(@el).trigger('tabbed-modal-loaded')

    submitUrl: => CRED_INTRUSION_URL
